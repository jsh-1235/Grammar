<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8" />
  <meta http-equiv="X-UA-Compatible" content="IE=edge" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>demo_9</title>
  <link rel="stylesheet" text="text/css" href="../css/style.css" />
  <style>
    .container {
      display: flex;
      flex-direction: column;
      flex-wrap: none;
      justify-content: space-between;
      /* height: 50vh; */
    }

    /* CSS */
    .button-1 {
      background-color: yellowgreen;
      border-radius: 8px;
      border-style: none;
      box-sizing: border-box;
      color: #ffffff;
      cursor: pointer;
      display: inline-block;
      font-family: "Haas Grot Text R Web", "Helvetica Neue", Helvetica, Arial, sans-serif;
      font-size: 2rem;
      font-weight: 500;
      /* height: 40px; */
      /* line-height: 20px; */
      list-style: none;
      margin: 5px;
      outline: none;
      padding: 10px 16px;
      position: relative;
      text-align: center;
      text-decoration: none;
      transition: color 100ms;
      vertical-align: baseline;
      user-select: none;
      -webkit-user-select: none;
      touch-action: manipulation;
    }

    .button-1:hover,
    .button-1:focus {
      background-color: #f082ac;
    }

    .btn {
      /* box-sizing: border-box; */
      /* box-sizing: content-box; */
      /* width: 100%; */
      /* height: 100%; */
      /* flex-grow: 1; */
      /* margin: 5px; */
      /* padding: 10px; */
      /* font-size: 2rem; */
    }
  </style>
  <script>
    "use strict";

    // HTTP : Hypertext Transfer Protocol
    // AJAX : Asynchronous JavasScript XML
    // XHR : XMLHttpRequest
    // fetch() API
    // Cross Browsing
    // XML : eXtensible Markup Language

    const rabbit = {
      name: "tory",
      color: "white",
      size: null,
      birthDate: new Date(),
      symbol: Symbol("id"),
      jump: () => {
        console.log(`${this.name} can jump!`);
      },
    };

    function func1() {
      // Object to JSON

      console.clear();

      // let json = JSON.stringify(true);
      // console.log(json);

      // json = JSON.stringify(['apple', 'banana']);
      // console.log(json);

      console.log(JSON.stringify(rabbit));
    }

    function func2() {
      console.clear();

      json = JSON.stringify(rabbit, ["name"]);
      console.log(json);
    }

    function func3() {
      console.clear();

      // json = JSON.stringify(rabbit, (key, value) => {
      //   // console.log(key, value);
      //   return key === "name" ? "ellie" : value;
      // })

      json = JSON.stringify(rabbit, ["name", "color"], (key, value) => {
        // console.log(key, value);
        return key === "name" ? "ellie" : value;
      });

      console.log(json);
    }

    function func4() {
      console.clear();
      let json = JSON.stringify(rabbit);

      console.log(json);

      const obj = JSON.parse(json);

      console.log(obj);

      console.log(rabbit.birthDate, typeof rabbit.birthDate); // Date Object

      console.log(obj.birthDate, typeof obj.birthDate); // String
      // obj.jump()
    }

    function func5() {
      console.clear();
      let json = JSON.stringify(rabbit);

      const obj = JSON.parse(json, (key, value) => {
        // console.log(key, value);
        return key === "birthDate" ? new Date(value) : value;
      });

      console.log(obj.birthDate, typeof obj.birthDate); // Date Object

      console.log(obj);
    }

    window.addEventListener("DOMContentLoaded", (event) => {
      console.log("DOM fully loaded and parsed");
    });

    window.addEventListener("load", function (event) {});
  </script>
</head>

<body>
  <h1 class="title">JSON</h1>
  <div>
    <a class="menu" href="/study_dream_coding">Back</a>
    <a class="menu" href="/">Home</a>
  </div>
  <hr />
  <div class="container">
    <button class="btn button-1" role="button" onclick="func1()">JSON.stringify</button>
    <button class="btn button-1" role="button" onclick="func2()">JSON.stringify replacer array</button>
    <button class="btn button-1" role="button" onclick="func3()">JSON.stringify replacer callback</button>
    <button class="btn button-1" role="button" onclick="func4()">JSON.parse</button>
    <button class="btn button-1" role="button" onclick="func5()">JSON.parse reviver</button>
  </div>
  <hr />
  <div>
    <ul>
      <li>HTTP : Hypertext Transfer Protocol</li>
      <li>AJAX : Asynchronous JavasScript XML</li>
      <li>XHR : XMLHttpRequest</li>
      <li>XML : eXtensible Markup Language</li>
      <li>fetch() API</li>
      <li>Cross Browsing problem</li>
      <li>JSON (Javascript Object Notation) : ES3 (1999)</li>
      <li>Object {'key': 'value'}</li>
      <li>simplest data interchange format</li>
      <li>lightweight text-based structure</li>
      <li>easy to read</li>
      <li>key-value pair</li>
      <li>used for serialization and transmission of data between the network the network connection</li>
      <li>independent programming language and platform</li>
      <li>Client -> serialize -> deserialize -> Server</li>
      <li>JSON Tools : Diff / Beautify / Minify / Parser / Validator</li>
    </ul>
  </div>
</body>

</html>